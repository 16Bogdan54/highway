<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Metas -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- Title -->
<title>Highway - Examples</title>

<!-- CSS -->
<link rel="stylesheet" href="./assets/css/reset.css" />
<link rel="stylesheet" href="./assets/css/fonts.css" />
<link rel="stylesheet" href="./assets/css/highlight-github.css" />
<link rel="stylesheet" href="./assets/css/main.css" />

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125659111-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'UA-125659111-1');
</script>

  </head>
  <body>
    <main class="site-container">
      <!-- Github Banner -->
<a href="https://github.com/Dogstudio/highway" target="_blank">
  <img style="position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
</a>

<!-- Header -->
<header class="site-header">
  <div class="site-header-inner">
    <a href="/" class="site-logo"><img src="./assets/images/logo_2x.png" /></a>

    <nav class="site-menu">
      <ul>
        <li class="menu-item">
          <a href="/" >Introduction</a>
        </li>

        <li class="menu-item">
          <a href="/installation.html" >Installation</a>
        </li>

        <li class="menu-item">
          <a href="/get-started.html" >Get started</a>
        </li>

        <li class="menu-item">
          <a href="/api.html" >API Reference</a>
        </li>

        <li class="menu-item">
          <a href="/examples.html" class="is-active">Examples</a>
        </li>

        <li class="menu-item">
          <a href="/demos.html" >Demos</a>
        </li>
      </ul>
    </nav>
  </div>
</header>


      <article id="top" class="site-content" data-router-view="examples">
        <h1>Examples</h1>
<h2 id="forms"><a href="./examples.html#forms">Forms</a></h2>
<p>Form submission is not considered as a navigation so it <strong>hard reloads</strong> the page by default. We have to consider using AJAX validation and the <em>Core</em>.<strong>redirect(<em>href</em>)</strong> method if we want to redirect our users to a <em>Thank you</em> page.</p>

<form action="#" method="POST">
    <input type="text" placeholder="Email" />
    <input type="password" placeholder="Password" />
    <button type="submit">Try me!</button>
</form>

<h2 id="disable-links"><a href="./examples.html#disable-links">Disable Links</a></h2>
<p>All links using with a different origin, a <strong>target</strong> attribute or a <strong>data-router-disabled</strong> attribute are going to be ignored by <strong>Highway</strong>. We have then some options in our hand to manipulate our links the way we want.</p>

<h3>[data-router-disabled]</h3>
<p>All links using the <strong>data-router-disabled</strong> attribute are automatically ignored by <strong>Highway</strong>.</p>
<pre>
<code class="html">&lt;a href="mailto:john@doe.com" data-router-disabled&gt;&lt;/a&gt;</code>
</pre>

<p><a href="mailto:john@doe.com" data-router-disabled class="button">Try me!</a></p>

<h3>Same window</h3>
<p>We can force a link to be ignored by <strong>Highway</strong> and open in the same window by using:</p>
<pre>
<code class="html">&lt;a href="path/to/page" target="_self"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="./examples.html" target="_self" class="button">Try me!</a></p>

<h3>New window</h3>
<p>We can force a link to be ignored by <strong>Highway</strong> and open in a new window by using:</p>
<pre>
<code class="html">&lt;a href="path/to/page" target="_blank"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="./index.html" target="_blank" class="button">Try me!</a></p>

<h3>Cross-origin</h3>
<p>All links with a different origin are ignored by <strong>Highway</strong>:</p>
<pre>
<code class="html">&lt;a href="http://google.be"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="http://google.be" class="button">Try me!</a></p>

<h2 id="url-parameters"><a href="./examples.html#url-parameters">URL Parameters</a></h2>
<p>We might often need to add parameters to our URL for some reasons but keep in mind that all parameters added to the page URL by links will launch the transitions even if the URL pathname is the <strong>same</strong>.</p>

<h3>Same page</h3>
<p>This example should launch the transition even if the URL pathname is the <strong>same</strong>.</p>
<pre>
<code class="html">&lt;a href="?param=value"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="./examples.html?foo=bar" class="button">Try me!</a></p>

<h3>Other page</h3>
<p>This example should launch the transition because the URL pathname is <strong>different</strong>.</p>
<pre>
<code class="html">&lt;a href="/path/to/page?param=value"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="./index.html?foo=bar" class="button">Try me!</a></p>

<h2 id="anchors"><a href="./examples.html#anchors">Anchors</a></h2>

<h3>Same page</h3>
<p>We might often need to create anchors in our pages and add links to navigate to them but keep in mind that all anchors URL will <strong>hard reload</strong> the page if the URL pathname is the <strong>same</strong>.</p>
<pre>
<code class="html">&lt;a href="#anchor"&gt;&lt;/a&gt;</code>
</pre>

<p><a href="#top" class="button">Try me!</a></p>

<h3>Other page</h3>
<p>However if the URL pathname is <strong>different</strong> the transition will be launched but you'll have to manage yourself the scroll to the right anchor when it'll be over. Luckily we have an example for this stuff:</p>
<pre>
<code class="html">&lt;a href="path/to/page#anchor"&gt;&lt;/a&gt;</code>
</pre>

<pre>
<code class="js">// File: main.js
const H = // [...] Call Highway.Core;

// Listen the `NAVIGATE_END` event
H.on('NAVIGATE_END', (to, from, location) => {
  // Check Anchor
  if (location.anchor) {
    // Get element
    const el = document.querySelector(location.anchor);

    if (el) {
      // Scroll to element
      window.scrollTo(el.offsetLeft, el.offsetTop);
    }
  }
});
</code>
</pre>

<p><a href="./get-started.html#core" class="button">Try me!</a></p>

<h2 id="active-menu"><a href="./examples.html#active-menu">Active Menu</a></h2>
<p>We dealing with menus we like to show the active item when we are on a page using CSS for accessibility purposes or others. To do so we can use events to show the right active menu item.<br> Here is an example to do it:</p>
<pre>
<code class="js">// File: main.js
const H = // [...] Call Highway.Core;

// Get all menu links
const links = document.querySelectorAll('nav a');

// Listen the `NAVIGATE_IN` event
H.on('NAVIGATE_IN', (to, location) => {
  // Check Active Link
  for (let i = 0; i < links.length; i++) {
    const link = links[i];

    // Clean class
    link.classList.remove('is-active');

    // Active link
    if (link.href === location.href) {
      link.classList.add('is-active');
    }
  }
});
</code>
</pre>


<h2 id="analytics"><a href="./examples.html#analytics">Analytics</a></h2>
<p>Of course we want to track the visits of our website and the most pages visited. Unfortunately when using AJAX navigation the page view sent to Google Analytics will always be the same whatever page we visit. Hopefully we can use Javascript to send those page views manually and fix this issue.<br> Here is an example to do it:</p>
<pre>
<code class="html">&lt;!-- File: index.html --&gt;
&lt;!-- [...] --&gt;
&lt;head&gt;
  &lt;script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"&gt;&lt;/script&gt;
  &lt;script&gt;
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
  &lt;/script&gt;
&lt;/head&gt;
&lt;!-- [...] --&gt;
</code>
</pre>

<pre>
<code class="js">// File: main.js
const H = // [...] Call Highway.Core;

// Listen the `NAVIGATE_END` event
H.on('NAVIGATE_END', (to, from, location) => {
  // Analytics
  if (typeof gtag !== 'undefined') {
    // eslint-disable-next-line
    gtag('config', 'UA-XXXXXXXXX-X', {
      'page_path': location.pathname,
      'page_title': to.page.title,
      'page_location': location.href
    });
  }
});
</code>
</pre>


<h2 id="third-party-scripts"><a href="./examples.html#third-party-scripts">Third-party Scripts</a></h2>
<p>Depending on our websites we might have to deal with third-party scripts used by plugins or others. Those scripts have to be evaluated on each page transition in order to be runned again.</p>
<p>Unfortunately there is a danger to evaluate malicious code and we cannot take the responsability of potential issues related to that. That's why we are never going to implement any evaluation method in <strong>Highway</strong>.</p>
<p>Check out this <a href="https://github.com/Dogstudio/highway/issues/7#issuecomment-396161696" target="_blank">Github issue</a> to have more informations about this topic.</p>

      </article>
    </main>

    <!-- Footer -->
<footer class="site-footer">
  <p class="site-footer-buttons">
    <a class="github-button" href="https://github.com/Dogstudio/highway" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star Dogstudio/highway on GitHub">Star</a>
  </p>
  <p>Â©2018 - Coded by <a href="https://github.com/Anthodpnt" target="_blank">Anthodpnt</a> & Powered by <a href="https://www.dogstudio.co" target="_blank">Dogstudio</a></p>
</footer>

<!-- Github Buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- Scripts -->
<script src="./assets/js/highlight.js"></script>
<script src="./assets/js/main.js"></script>

  </body>
</html>
