!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOrigin=c,t.getPathname=l,t.getAnchor=s,t.getParams=h,t.getParam=p,t.getInfos=d,t.getView=v,t.getSlug=g,t.getTitle=m,t.getRenderer=w;var r=/<title>(.+)<\/title>/,i=/\?([\w_\-.=&]+)/,o=/(#.*)$/,a=/(https?:\/\/[\w\-.]+)/,u=/https?:\/\/.*?(\/[\w_\-./]+)/,f=document.createElement("div");function c(e){var t=e.match(a);return t?t[1]:null}function l(e){var t=e.match(u);return t?t[1]:null}function s(e){var t=e.match(o);return t?t[1]:null}function h(e){var t=e.match(i);if(!t)return null;for(var n=t[1].split("&"),r={},o=0;o<n.length;o++){var a=n[o].split("="),u=a[0]||null,f=a[1]||null;u&&f&&(r[u]=f)}return r}function p(e,t){var n=h(e);return n.hasOwnProperty(t)?n[t]:null}function d(e){return{url:e,anchor:s(e),origin:c(e),params:h(e),pathname:l(e)}}function v(e){return f.innerHTML=e,f.querySelector("[router-view]")}function g(e){return v(e).getAttribute("router-view")}function m(e){var t=e.match(r);return t?t[1]:""}function w(e,t){var n=g(e);return t.hasOwnProperty(n)?t[n]:null}t.default={getSlug:g,getView:v,getInfos:d,getTitle:m,getParam:p,getParams:h,getOrigin:c,getAnchor:s,getPathname:l,getRenderer:w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2)),i=a(n(0)),o=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var u={Core:r.default,Renderer:o.default,Helpers:i.default};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(3)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var u={mode:"same-origin",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.renderers=e.renderers,n.state={},n.cache={},n.navigating=!1,n.page=document.documentElement.outerHTML,n.pathname=o.default.getPathname(window.location.href),n.cache[n.pathname]=n.page;var r=document.querySelector("[router-view]");return n.from=new(o.default.getRenderer(n.page,n.renderers))(r,null),n.from.onEnter(),n.from.onEnterCompleted(),window.addEventListener("popstate",n.popState.bind(n)),n.bubble(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"bubble",value:function(){var e=this;document.addEventListener("click",function(t){if("A"===t.target.tagName){var n=o.default.getAnchor(t.target.href);if((null===n||0===n.length)&&!t.target.target){t.preventDefault();var r=o.default.getPathname(t.target.href);e.navigating||r===e.pathname||e.pushState(t)}}})}},{key:"popState",value:function(){var e=o.default.getAnchor(window.location.href);e&&0!==e.length||o.default.getPathname(window.location.href)!==this.pathname&&this.beforeFetch(window.location.href,!1)}},{key:"pushState",value:function(e){this.beforeFetch(e.target.href,!0)}},{key:"beforeFetch",value:function(e,t){var n=this;if(this.state=o.default.getInfos(e),this.pathname=o.default.getPathname(e),this.cache.hasOwnProperty(this.pathname))return this.push(this.cache[this.pathname]),void(t&&window.history.pushState(this.state,"",this.state.url));this.fetch().then(function(e){t&&window.history.pushState(n.state,"",n.state.url),n.push(e)})}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;return this.navigating=!0,fetch(this.state.url,u).then(function(t){if(t.status>=200&&t.status<300)return t.text();throw e.emit("NAVIGATE_ERROR"),new Error(t.statusText)})})},{key:"push",value:function(e){var t=this;this.cache[this.pathname]=e;var n=o.default.getView(e),r=o.default.getTitle(e);this.to=new(o.default.getRenderer(e,this.renderers))(n,r);var i=this.from.view,a=this.to.view;this.emit("NAVIGATE_START",i,a,this.state),this.from.hide().then(function(){t.to.show().then(function(){t.navigating=!1,t.from=t.to,t.emit("NAVIGATE_END",i,a,t.state)})})}}]),t}();t.default=f},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,this.title=n,n&&document.title!==n&&(document.title=n),this.wrapper=null}return r(e,[{key:"show",value:function(){var e=this;return new Promise(function(t){e.wrapper=document.querySelector("[router-wrapper]"),e.wrapper.appendChild(e.view),e.onEnter&&e.onEnter();var n=function(){e.onEnterCompleted&&e.onEnterCompleted(),t()};void 0!==e.transition?e.transition.in(e.view,n):n()})}},{key:"hide",value:function(){var e=this;return new Promise(function(t){e.wrapper=e.view.parentNode,e.onLeave&&e.onLeave();var n=function(){e.wrapper.removeChild(e.view),e.onLeaveCompleted&&e.onLeaveCompleted(),t()};void 0!==e.transition?e.transition.out(e.view,n):n()})}}]),e}();t.default=i}]);