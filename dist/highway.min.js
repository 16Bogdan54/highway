!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Highway",[],e):"object"==typeof exports?exports.Highway=e():t.Highway=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";
/**
 * @license
 * Highway - Dogstudio
 *
 * Copyright 2018 Dogstudio.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:

 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var r=/<title>(.+)<\/title>/,o=/\?([\w_\-.=&]+)/,i=/(#.*)$/,a=/(https?:\/\/[\w\-.]+)/,u=/https?:\/\/.*?(\/[\w_\-./]+)/;function s(t){var e=t.match(a);return e?e[1]:null}function f(t){var e=t.match(u);return e?e[1]:null}function c(t){var e=t.match(i);return e?e[1]:null}function l(t){var e=t.match(o);if(!e)return null;for(var n=e[1].split("&"),r={},i=0;i<n.length;i++){var a=n[i].split("="),u=a[0],s=a[1];r[u]=s}return r}function h(t){var e=document.createElement("div");return e.innerHTML=t,e.querySelector("[router-view]")}function p(t){return h(t).getAttribute("router-view")}t.exports={getSlug:p,getView:h,getInfos:function(t){return{url:t,anchor:c(t),origin:s(t),params:l(t),pathname:f(t)}},getTitle:function(t){var e=t.match(r);return e?e[1]:""},getParam:function(t,e){var n=l(t);return n.hasOwnProperty(e)?n[e]:null},getParams:l,getOrigin:s,getAnchor:c,getPathname:f,getRenderer:function(t,e){var n=p(t);return e.hasOwnProperty(n)?e[n]:null},getTransition:function(t,e){if(void 0===e)return null;var n=p(t);return e.hasOwnProperty(n)&&e[n]?e[n]:e.hasOwnProperty("default")?e.default:null}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();
/**
 * @license
 * Highway - Dogstudio
 *
 * Copyright 2018 Dogstudio.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:

 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var o=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.title=n,this.transition=r,n&&document.title!==n&&(document.title=n),this.wrapper=null}return r(t,[{key:"show",value:function(){var t=this;return new Promise(function(e){t.wrapper=document.querySelector("[router-wrapper]"),t.wrapper.appendChild(t.view),t.onEnter&&t.onEnter();var n=function(){t.onEnterCompleted&&t.onEnterCompleted(),e()};t.transition?t.transition.in(t.view,n):n()})}},{key:"hide",value:function(){var t=this;return new Promise(function(e){t.wrapper=t.view.parentNode,t.onLeave&&t.onLeave();var n=function(){t.wrapper.removeChild(t.view),t.onLeaveCompleted&&t.onLeaveCompleted(),e()};t.transition?t.transition.out(t.view,n):n()})}}]),t}();t.exports=o},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(2)),i=a(n(0));function a(t){return t&&t.__esModule?t:{default:t}}
/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Highway - Dogstudio
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright 2018 Dogstudio.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Permission is hereby granted, free of charge, to any person obtaining a copy
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * of this software and associated documentation files (the "Software"), to deal
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * in the Software without restriction, including without limitation the rights
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * copies of the Software, and to permit persons to whom the Software is
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * furnished to do so, subject to the following conditions:
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * The above copyright notice and this permission notice shall be included in
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * all copies or substantial portions of the Software.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * THE SOFTWARE.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var u={mode:"same-origin",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.renderers=t.renderers,n.transitions=t.transitions,n.state={},n.cache={},n.navigating=!1,n.page=document.documentElement.outerHTML,n.pathname=i.default.getPathname(window.location.href),n.cache[n.pathname]=n.page;var r=document.querySelector("[router-view]"),o=i.default.getTransition(n.page,n.transitions);return n.from=new(i.default.getRenderer(n.page,n.renderers))(r,null,o),n.from.onEnter(),n.from.onEnterCompleted(),window.addEventListener("popstate",n.popState.bind(n)),n.bubble(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"bubble",value:function(){var t=this;document.addEventListener("click",function(e){if("A"===e.target.tagName){var n=i.default.getAnchor(e.target.href),r=i.default.getPathname(e.target.href);e.target.target||(e.preventDefault(),t.navigating||r===t.pathname?n&&(window.location.href=e.target.href):t.pushState(e))}})}},{key:"popState",value:function(){i.default.getPathname(window.location.href)!==this.pathname&&this.beforeFetch(window.location.href,!1)}},{key:"pushState",value:function(t){this.beforeFetch(t.target.href,!0)}},{key:"beforeFetch",value:function(t,e){var n=this;if(this.navigating=!0,this.state=i.default.getInfos(t),this.pathname=i.default.getPathname(t),this.cache.hasOwnProperty(this.pathname))return this.push(this.cache[this.pathname]),void(e&&window.history.pushState(this.state,"",this.state.url));this.fetch().then(function(t){e&&window.history.pushState(n.state,"",n.state.url),n.push(t)})}},{key:"fetch",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;return fetch(this.state.url,u).then(function(e){if(e.status>=200&&e.status<300)return e.text();throw t.emit("NAVIGATE_ERROR"),new Error(e.statusText)})})},{key:"push",value:function(t){var e=this;this.cache[this.pathname]=t;var n=i.default.getView(t),r=i.default.getTitle(t),o=i.default.getTransition(t,this.transitions);this.to=new(i.default.getRenderer(t,this.renderers))(n,r,o);var a=this.from.view,u=this.to.view;this.emit("NAVIGATE_START",a,u,r,this.state),this.from.hide().then(function(){e.to.show().then(function(){e.navigating=!1,e.from=e.to,i.default.getAnchor(e.state.url)&&e.scrollTo(i.default.getAnchor(e.state.url)),e.emit("NAVIGATE_END",a,u,r,e.state)}),window.scrollTo(0,0)})}},{key:"scrollTo",value:function(t){var e=document.querySelector(t);e&&window.scrollTo(e.offsetLeft,e.offsetTop)}}]),e}();t.exports=s},function(t,e,n){"use strict";var r=a(n(3)),o=a(n(0)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var u={Core:r.default,Helpers:o.default,Renderer:i.default};
/**
    * @license
    * Highway - Dogstudio
    *
    * Copyright 2018 Dogstudio.
    *
    * Permission is hereby granted, free of charge, to any person obtaining a copy
    * of this software and associated documentation files (the "Software"), to deal
    * in the Software without restriction, including without limitation the rights
    * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    * copies of the Software, and to permit persons to whom the Software is
    * furnished to do so, subject to the following conditions:
   
    * The above copyright notice and this permission notice shall be included in
    * all copies or substantial portions of the Software.
   
    * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    * THE SOFTWARE.
    */t.exports=u}])});